#!/bin/bash
#SBATCH -J 3dgs-truck-test
#SBATCH -o logs/truck-test.%j.out
#SBATCH -t 01:30:00
#SBATCH -p titanxp
#SBATCH --gres=gpu:1
#SBATCH --mem=16G

# Slurm ì‹œìŠ¤í…œ ì •ë³´ ì¶œë ¥
echo "[INFO] CUDA_VISIBLE_DEVICES=$CUDA_VISIBLE_DEVICES"
echo "[INFO] SLURM_JOB_ID: $SLURM_JOB_ID"

# Conda í™˜ê²½ ì„¤ì •
source $HOME/miniconda3/etc/profile.d/conda.sh
conda activate gaussian_splatting

# ğŸ”§ conda CUDA ìš°ì„  ì ìš© (í•µì‹¬ í•´ê²°)
export LD_LIBRARY_PATH=$CONDA_PREFIX/lib:$LD_LIBRARY_PATH
export CUDA_LAUNCH_BLOCKING=1

# ì‘ì—… ë””ë ‰í† ë¦¬ ì´ë™
cd /home/rlatnsgh0708/research_project/gaussian-splatting

# í•™ìŠµ ì‹¤í–‰
python train.py -s data/tandt/truck --iterations 1000 --save_iterations 1000 -r 4

conda deactivate
echo "=== JOB FINISHED ==="
